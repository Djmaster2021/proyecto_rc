{% load static %}
<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Iniciar sesión — RC</title>
  <link rel="icon" href="{% static 'img/favicon.png' %}" type="image/png">
  <link rel="stylesheet" href="{% static 'accounts/styles.css' %}">
</head>
<body>
  <header class="site-topbar">
    <a class="brand" href="#" aria-label="Rodolfo Castellón">RC</a>
    <div class="theme-toggle" id="themeToggle">
      <input type="radio" name="t" id="t-light" value="light" checked>
      <label class="toggle-chip" for="t-light" title="Modo claro">Claro</label>
      <input type="radio" name="t" id="t-dark" value="dark">
      <label class="toggle-chip" for="t-dark" title="Modo oscuro">Oscuro</label>
    </div>
  </header>

  <main class="site-main">
    <section class="auth-hero">
      <div class="glow-card">
        <div class="login-card">
          <div class="card-head">
            <div class="logo">RC</div>
            <h1 class="title">Bienvenido</h1>
            <p class="subtitle">Accede con tu cuenta y rol</p>
          </div>

          <form class="auth-form" method="post" action="{% url 'accounts:login' %}">
            {% csrf_token %}

            <fieldset class="roles" aria-label="Selecciona tu rol">
              <input type="radio" name="role" id="role-admin" value="ADMIN" checked>
              <label for="role-admin" class="role-chip">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm-9 9a9 9 0 0 1 18 0"/></svg>
                Administrador
              </label>

              <input type="radio" name="role" id="role-dentista" value="DENTISTA">
              <label for="role-dentista" class="role-chip">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4 7h16v10a2 2 0 0 1-2 2h-4l-2 2-2-2H6a2 2 0 0 1-2-2V7zM7 7V5a5 5 0 0 1 10 0v2"/></svg>
                Dentista
              </label>

              <input type="radio" name="role" id="role-paciente" value="PACIENTE">
              <label for="role-paciente" class="role-chip">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4"/></svg>
                Paciente
              </label>
            </fieldset>

            <div class="field">
              <label for="id_username">Correo o usuario</label>
              <input id="id_username" name="username" type="text" autocomplete="username" required placeholder="ej. juan@correo.com">
            </div>

            <div class="field">
              <div class="label-row">
                <label for="id_password">Contraseña</label>
                <a class="link small" href="{% url 'accounts:password_reset' %}">¿Olvidaste tu contraseña?</a>
              </div>
              <div class="password-box">
                <input id="id_password" name="password" type="password" autocomplete="current-password" required placeholder="••••••••">
                <button class="eye" type="button" aria-label="Mostrar u ocultar contraseña" title="Mostrar/ocultar">
                  <svg class="eye-open" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 5C7 5 2.73 8.11 1 12c1.73 3.89 6 7 11 7s9.27-3.11 11-7c-1.73-3.89-6-7-11-7Zm0 11a4 4 0 1 1 4-4 4 4 0 0 1-4 4Z"/></svg>
                  <svg class="eye-off" viewBox="0 0 24 24" aria-hidden="true"><path d="M2 2l20 20M10.58 10.58A3 3 0 0 0 9 12a3 3 0 0 0 3 3 3 3 0 0 0 1.42-.38M6.1 6.1C3.45 7.61 1.51 9.66 1 12c1.73 3.89 6 7 11 7a11.64 11.64 0 0 0 5.06-1.14M14.12 9.88A3 3 0 0 0 12 9a3 3 0 0 0-3 3 3 3 0 0 0 .88 2.12M12 5a11.64 11.64 0 0 1 10.94 7"/></svg>
                </button>
              </div>
            </div>

            <button class="btn btn-primary w-100" type="submit">Entrar</button>

            {% if messages %}
              <ul class="messages">
                {% for msg in messages %}
                  <li class="msg {{ msg.tags }}">{{ msg }}</li>
                {% endfor %}
              </ul>
            {% endif %}
          </form>

          <p class="form-meta">¿No tienes cuenta? <a class="link" href="{% url 'accounts:login' %}#signup">Regístrate</a></p>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">© Consultorio Rodolfo Castellón</footer>
  <script src="{% static 'accounts/app.js' %}"></script>
</body>
</html>
