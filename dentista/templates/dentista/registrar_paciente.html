{% extends 'dentista/base.html' %}
{% load static %}

{% block dtitle %}Registrar Paciente | RC{% endblock %}

{% block dcontent %}

<div class="page-header" style="margin-bottom: 2rem;">
    <div>
        <h1 class="text-gradient" style="font-size: 1.8rem;">Registrar Nuevo Paciente</h1>
        <p style="color: #64748b;">Crea el expediente clínico y sus credenciales de acceso.</p>
    </div>
</div>

<div class="cyber-card" style="max-width: 800px; margin: 0 auto;">
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div style="background: #f1f5f9; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem; border-left: 4px solid #00adc1;">
            <h3 style="margin-top: 0; color: #1e293b; font-size: 1.1rem; margin-bottom: 1rem;">
                <i class="ph-bold ph-lock-key"></i> Credenciales de Acceso
            </h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                <div class="form-group">
                    <label style="font-weight: 600; color: #475569;">Correo Electrónico (Usuario) *</label>
                    <input type="email" name="email" class="form-control" required placeholder="ejemplo@correo.com">
                    <small style="color: #64748b;">Este será su usuario para entrar.</small>
                </div>
                <div class="form-group">
                    <label style="font-weight: 600; color: #475569;">Contraseña *</label>
                    <input type="password" name="password" class="form-control" required placeholder="Crear contraseña segura">
                    <small style="color: #64748b;">Compártela con el paciente.</small>
                </div>
            </div>
        </div>

        <h3 style="color: #1e293b; font-size: 1.1rem; margin-bottom: 1rem;">Datos Personales</h3>
        
        <div class="form-group" style="margin-bottom: 1.5rem;">
            <label style="font-weight: 600; color: #475569;">Nombre Completo *</label>
            <input type="text" name="nombre" class="form-control" required placeholder="Nombre y Apellidos">
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
            <div class="form-group">
                <label style="font-weight: 600; color: #475569;">Teléfono</label>
                <input type="tel" name="telefono" class="form-control" placeholder="10 dígitos">
            </div>
            <div class="form-group">
                <label style="font-weight: 600; color: #475569;">Fecha de Nacimiento</label>
                <input type="date" name="fecha_nacimiento" class="form-control">
            </div>
        </div>

        <div class="form-group" style="margin-bottom: 1.5rem;">
            <label style="font-weight: 600; color: #475569;">Dirección</label>
            <input type="text" name="direccion" class="form-control" placeholder="Calle, Número, Colonia...">
        </div>

        <div class="form-group" style="margin-bottom: 1.5rem;">
            <label style="font-weight: 600; color: #475569;">Antecedentes Médicos</label>
            <textarea name="antecedentes" class="form-control" rows="3" placeholder="Alergias, enfermedades crónicas, cirugías previas..."></textarea>
        </div>

        <div class="form-group" style="margin-bottom: 2rem;">
            <label style="font-weight: 600; color: #475569;">Foto de Perfil (Opcional)</label>
            <input type="file" name="imagen" class="form-control" accept="image/*">
        </div>

        <div style="display: flex; justify-content: flex-end; gap: 1rem;">
            <a href="{% url 'dentista:pacientes' %}" class="btn-ghost">Cancelar</a>
            <button type="submit" class="btn-primary">Guardar Paciente</button>
        </div>
    </form>
</div>

{% endblock %}