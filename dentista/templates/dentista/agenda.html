{% extends "dentista/base.html" %}
{% load static %}

{% block dtitle %}Agenda | DentalSys{% endblock %}

{% block dcontent %}
<header class="page-header">
  <div>
    <h1>Agenda</h1>
    <div class="small text-muted">Vista semanal de citas y acciones rápidas</div>
  </div>
  <div class="toolbar-actions">
    <div class="live-clock" id="liveClock"></div>
    <select class="btn-outline">
      <option>Vista: Semana</option>
      <option>Vista: Día</option>
    </select>
    <button class="btn-neon" data-modal="modalNewAppt">Nueva cita</button>
  </div>
</header>

<div class="card">
  <div class="agenda-view">
    <div class="days-header">
      <div class="day-name">Lun</div>
      <div class="day-name">Mar</div>
      <div class="day-name">Mie</div>
      <div class="day-name">Jue</div>
      <div class="day-name">Vie</div>
      <div class="day-name">Sab</div>
      <div class="day-name">Dom</div>
    </div>
    
    <div class="agenda-grid" id="agendaGrid">
      </div>
  </div>
</div>

<div class="card mt">
    <h3>Próximas citas detalladas</h3>
    <div class="panel-tools">
        <input class="input" placeholder="Buscar por paciente o servicio">
        <div class="spacer"></div>
        <button class="btn-outline" data-toast="Lista exportada">Exportar lista</button>
    </div>
    <div class="table-wrap">
        <table class="table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Paciente</th>
                    <th>Fecha</th>
                    <th>Hora</th>
                    <th>Servicio</th>
                    <th>Estado</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody id="upcomingApptsTableBody">
                </tbody>
        </table>
    </div>
</div>

<div id="modalNewAppt" class="modal">
  <div class="modal-box glass">
    <div class="modal-head">
      <h3>Nueva cita</h3>
      <button class="btn-ghost" data-close>&times;</button>
    </div>
    <form>
      <div class="row" style="margin-bottom:12px">
        <input class="input" placeholder="Nombre del paciente" required>
        <input class="input" type="date" required>
        <input class="input" type="time" required>
      </div>
      <select class="input" style="margin-bottom:12px">
        <option>Seleccionar servicio</option>
        <option>Limpieza Profunda</option>
        <option>Resina Estética</option>
        <option>Ortodoncia</option>
      </select>
      <textarea class="input" rows="3" placeholder="Notas adicionales"></textarea>
      <div class="row end mt">
        <button class="btn-outline" type="button" data-close>Cancelar</button>
        <button class="btn-neon" type="submit" data-toast="Cita agendada">Agendar cita</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}