{% extends "dentista/base.html" %}
{% load static %}

{% block dtitle %}Dashboard | DentalSys{% endblock %}

{% block dcontent %}
<header class="main-header">
    <h1>Dashboard</h1>
    <div class="header-actions">
        <button class="action-button">
            <i class="ph-bold ph-plus-circle"></i>
            <span>Nueva Cita</span>
        </button>
        <button class="action-button secondary">
            <i class="ph-bold ph-user-plus"></i>
            <span>Nuevo Paciente</span>
        </button>
    </div>
</header>

<section class="metrics-grid">
    <div class="metric-card">
        <div class="card-icon icon-blue">
            <i class="ph-bold ph-calendar-check"></i>
        </div>
        <div class="card-info">
            <span class="card-title">Citas de Hoy</span>
            <span class="card-value">12</span>
            <span class="card-detail">5 confirmadas - 2 pendientes</span>
        </div>
    </div>
    <div class="metric-card">
        <div class="card-icon icon-green">
            <i class="ph-bold ph-user-list"></i>
        </div>
        <div class="card-info">
            <span class="card-title">Pacientes Activos</span>
            <span class="card-value">48</span>
            <span class="card-detail">12 nuevos este mes</span>
        </div>
    </div>
    <div class="metric-card">
        <div class="card-icon icon-yellow">
            <i class="ph-bold ph-wallet"></i>
        </div>
        <div class="card-info">
            <span class="card-title">Ingresos (Semana)</span>
            <span class="card-value">$7,250</span>
            <span class="card-detail-positive">+ $5,000 vs semana pasada</span>
        </div>
    </div>
    <div class="metric-card">
         <div class="card-icon icon-red">
            <i class="ph-bold ph-warning-circle"></i>
        </div>
        <div class="card-info">
            <span class="card-title">Deudas Pendientes</span>
            <span class="card-value">$12,450</span>
            <span class="card-detail">28 pacientes con saldo</span>
        </div>
    </div>
</section>

<section class="data-section">
    <div class="chart-container">
        <h3>Actividad de Citas Semanal</h3>
        <canvas id="weeklyActivityChart"></canvas>
    </div>
    <div class="patient-list">
        <h3>Próximas Citas</h3>
        <ul>
            <li class="patient-item">
                <div class="patient-details">
                    <span class="patient-name">Adrián Aceves</span>
                    <span class="appointment-time">14:00 - Limpieza Bucal</span>
                </div>
                <span class="status confirmed">Confirmada</span>
            </li>
            <li class="patient-item">
                 <div class="patient-details">
                    <span class="patient-name">Emilio Segura</span>
                    <span class="appointment-time">15:00 - Ortodoncia</span>
                </div>
                <span class="status pending">Pendiente</span>
            </li>
             <li class="patient-item">
                 <div class="patient-details">
                    <span class="patient-name">Ana García</span>
                    <span class="appointment-time">16:30 - Blanqueamiento</span>
                </div>
                <span class="status confirmed">Confirmada</span>
            </li>
        </ul>
        <a href="{% url 'dentista:agenda' %}" class="view-all">Ver toda la agenda →</a>
    </div>
</section>
{% endblock %}
